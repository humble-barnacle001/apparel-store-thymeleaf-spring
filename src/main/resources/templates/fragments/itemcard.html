<!DOCTYPE html>
<html lang="en">
    <head></head>
    <body>
        <div class="col-6">
            <div
                class="card mx-auto"
                th:classappend="${onSoldPage} ? 'flex-column-reverse' : ''"
                th:fragment="itemcard(item)"
            >
                <img
                    src="https://source.unsplash.com/random/400x300?shirt"
                    th:src="'https://source.unsplash.com/random/400x300?shirt&sig=' + ${#strings.randomAlphanumeric(10)}"
                    class="card-img-top"
                    alt="Apparel photo"
                    sec:authorize="hasRole('USER')"
                />
                <div class="card-body d-flex flex-column">
                    <div class="text-end">
                        <span
                            class="badge bg-success text-light"
                            th:if="${item.isNew()}"
                        >
                            New Arrival
                        </span>
                        <span
                            class="badge bg-warning text-dark"
                            th:if="${item.isSale()}"
                        >
                            On sale
                        </span>
                    </div>
                    <h2 class="h4 text-center text-break py-3 text-danger">
                        <span th:text="${item.getName()}"> Name </span>
                    </h2>
                    <h3 class="h5 mb-2 text-dark">
                        &#8377;
                        <span th:text="${item.getCost()}"> 1000.52 </span>
                    </h3>

                    <p class="card-text">
                        <span th:each="tag : ${item.getTags()}">
                            <span
                                class="badge rounded-pill bg-secondary"
                                th:text="${tag}"
                            >
                                shirt
                            </span>
                        </span>
                    </p>
                    <div class="text-end mt-auto">
                        <a
                            th:href="@{/buy/{itemId}(itemId=${item.getId()})}"
                            class="btn btn-primary"
                            th:unless="${onSoldPage}"
                            sec:authorize="hasRole('ROLE_USER')"
                        >
                            <i class="bi bi-cart-plus"></i>
                        </a>
                        <a
                            href="#"
                            class="ms-auto btn btn-danger"
                            sec:authorize="hasRole('ROLE_ADMIN')"
                        >
                            <i class="bi bi-trash3"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
